<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}SYNEX+ 견적 시스템{% endblock %}</title>
    <link rel="stylesheet" href="/static/css/style.css">
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- 상단 네비게이션 바 -->
    <header class="top-navbar">
        <div class="navbar-container">
            <!-- 로고 -->
            <div class="navbar-logo">
                <a href="/"><img src="/assets/images/synex_logo.png" alt="JLT" class="jlt-logo"></a>
            </div>
            
            <!-- 메인 메뉴 -->
            <nav class="navbar-menu">
                <a href="/service/quotation/general/" class="nav-item {% if current_page == 'quotation_general' %}active{% endif %}">
                    견적서(일반)
                </a>
                <a href="/service/quotation/machine/" class="nav-item {% if current_page == 'quotation_machine' %}active{% endif %}">
                    장비 견적서
                </a>
                <a href="/service/part/" class="nav-item {% if current_page == 'parts' %}active{% endif %}">
                    부품/자재 목록
                </a>
            </nav>

            <!-- 설정 버튼 -->
            <div class="navbar-settings">
                <button class="settings-btn" onclick="openSettingsModal()" title="설정">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <!-- 설정 모달 -->
    <div id="settingsModal" class="modal-overlay" style="display: none;">
        <div class="modal-content settings-modal">
            <div class="modal-header">
                <h2>설정</h2>
                <button class="modal-close" onclick="closeSettingsModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="settings-group">
                    <label class="settings-label">PDF 기본 저장 폴더</label>
                    <div class="settings-input-group">
                        <input type="text" id="pdfSavePath" class="settings-input" readonly placeholder="폴더를 선택하세요">
                        <button class="btn btn-secondary" onclick="selectPdfFolder()">폴더 선택</button>
                    </div>
                    <p class="settings-hint">PDF가 저장될 기본 폴더입니다. (프로젝트명/문서타입 폴더가 자동 생성됩니다)</p>
                </div>
                <div class="settings-group">
                    <label class="settings-checkbox-label">
                        <input type="checkbox" id="askSaveLocation">
                        <span>저장 시 위치 묻기</span>
                    </label>
                    <p class="settings-hint">체크하면 매번 저장 위치를 직접 선택할 수 있습니다.</p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeSettingsModal()">취소</button>
                <button class="btn btn-primary" onclick="saveSettings()">저장</button>
            </div>
        </div>
    </div>

    <!-- 메인 콘텐츠 영역 -->
    <main class="main-content">
        <div class="content-container">
            {% block content %}
            <!-- 여기에 각 페이지의 내용이 들어갑니다 -->
            {% endblock %}
        </div>
    </main>

    <!-- 하단 푸터 -->
    <footer class="bottom-footer">
        <div class="footer-container">
            <div class="footer-logo">
                <img src="/assets/images/Normal_Logo.png" alt="JLT" class="jlt-logo">
            </div>
            <div class="footer-copyright">
                Copyright © 2025 주식회사 제이엘티 All rights reserved.
            </div>
        </div>
    </footer>

    <!-- 공통 JavaScript -->
    <script src="/static/js/common.js"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>