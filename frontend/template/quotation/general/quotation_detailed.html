{% extends "template/base.html" %}
{% import "element/button.html" as btn %}

{% block title %}상세 견적서 (을지) - SYNEX+{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{{ url_for('static', path='/css/page/quotation/general/quotation_detailed.css') }}">
{% endblock %}

{% block extra_js %}
    <script src="{{ url_for('static', path='/js/page/quotation/general/quotation_detailed.js') }}"></script>
{% endblock %}

{% block content %}
<div class="quotation-cover-page">
    <div class="cover-shell">
        <div class="side-action-bar no-print" id="sideActionBar">
            <div class="action-group" id="viewActions">
                {{ btn.button("수정하기", type="primary", onclick="toggleEditMode('edit')") }}
                {{ btn.button("인쇄하기", type="default", onclick="window.print()") }}
                {{ btn.button("목록으로", type="secondary", onclick="goBack()") }}
            </div>
            <div class="action-group" id="editActions" style="display: none;">
                {{ btn.blue_button("저장하기", id="saveBtn", onclick="saveDetailedData()") }}
                {{ btn.button("취소", type="default", onclick="toggleEditMode('view')") }}
            </div>
        </div>

        <div class="cover-inner">
            <header>
                <h2 id="pageTitle">상세 견적서 (을지)</h2>
                <div class="logo-placeholder">
                    <img src="/assets/images/Normal_Logo.png" alt="JLT Logo">
                </div>
            </header>
            
            <div id="loading" style="display: block; text-align: center; padding: 40px;">
                <p>데이터를 불러오는 중...</p>
            </div>
            
            <table id="detailedTable" class="editable-table" data-mode="view">
                <thead>
                    <tr>
                        <th class="col-number">No</th>
                        <th style="width: 14%;">장비명</th>
                        <th>품명</th>
                        <th class="edit-qty">수량</th>
                        <th class="edit-unit">단위</th>
                        <th class="edit-price">단가</th>
                        <th class="row-subtotal">공급가액</th>
                        <th>비고</th>
                    </tr>
                </thead>
                <tbody>
                    </tbody>
                <tfoot>
                    </tfoot>
            </table>

            <div class="quotation-note-container">
                <div class="note-header">
                    <h3>비고 (Note)</h3>
                </div>
                <div id="quotationDescription" class="description-box" contenteditable="false">
                    </div>
            </div>
        </div>
    </div>
</div>
        </div>
    </div>
</div>
{% endblock %}